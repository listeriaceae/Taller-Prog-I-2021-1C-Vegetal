#!/bin/sh

input=$1
bindir='bin'

while [ -z $target ]; do
  case $input in
    [Ss]*)
      target='server';;
    [Cc]*)
      ip='127.0.0.1'
      target='client';;
    *) read -p "['client'/'server']: " input;;
  esac
done

if [ ! -x $bindir/$target ]; then
  make $bindir/$target
fi

$bindir/$target $ip 5555
